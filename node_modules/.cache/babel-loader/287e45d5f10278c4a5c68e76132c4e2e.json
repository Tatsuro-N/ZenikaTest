{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tatsuro\\\\movie-app\\\\src\\\\component\\\\Details.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\nimport ReactHtmlParser from 'react-html-parser';\nimport '../App.css';\n\nfunction Details() {\n  var params = useParams();\n  const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\n  const [state, setState] = useState({\n    message: \"Getting movies info, please wait\",\n    results: []\n  });\n\n  const getData = async () => {\n    try {\n      let res = await axios.get(apiUrl);\n      console.log(res.data);\n\n      for (var row of res.data) {\n        if (row.name === params.name) {\n          setState(prevState => {\n            return { ...prevState,\n              results: row\n            };\n          });\n        }\n      }\n\n      console.log(state.results);\n    } catch (e) {\n      getData();\n    }\n  };\n\n  useEffect(() => {\n    console.log(params.name);\n    console.log(state.results.image);\n\n    if (state.results.length == 0) {\n      console.log(\"results==0\");\n      getData();\n    }\n  });\n  var longShort = \"short\";\n\n  function toggleLongShort() {\n    console.log(longShort);\n\n    if (longShort == \"long\") {\n      longShort = 'short';\n    } else {\n      longShort = 'long';\n    }\n  }\n\n  var img;\n\n  if (typeof state.results.image !== 'undefined') {\n    img = /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Poster for \" + state.results.name,\n      src: require(\"../assets/\" + state.results.image),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    });\n  }\n\n  var synopsis, link;\n\n  if (longShort == 'long') {\n    synopsis = /*#__PURE__*/React.createElement(\"p\", {\n      class: \"synopsis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }\n    }, ReactHtmlParser(state.results.synopsis));\n    link = /*#__PURE__*/React.createElement(\"button\", {\n      onClick: toggleLongShort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }\n    }, \"Click for short synopsis\");\n  } else {\n    synopsis = /*#__PURE__*/React.createElement(\"p\", {\n      class: \"synopsis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }\n    }, ReactHtmlParser(state.results.synopsisShort));\n    link = /*#__PURE__*/React.createElement(\"button\", {\n      onClick: toggleLongShort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 16\n      }\n    }, \"Click for full synopsis\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, img, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, state.results.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Production Year: \", state.results.productionYear), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Genre: \", state.results.genre), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Synopsis:\"), synopsis, link));\n}\n\nexport default Details;","map":{"version":3,"sources":["C:/Users/Tatsuro/movie-app/src/component/Details.js"],"names":["React","useEffect","useState","axios","Link","useParams","BrowserRouter","Router","ReactHtmlParser","Details","params","apiUrl","state","setState","message","results","getData","res","get","console","log","data","row","name","prevState","e","image","length","longShort","toggleLongShort","img","require","synopsis","link","synopsisShort","productionYear","genre"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport '../App.css';\r\n\r\n\r\nfunction Details() {\r\n\r\n    var params = useParams();\r\n    const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\r\n\r\n    const [state, setState] = useState({\r\n        message: \"Getting movies info, please wait\",\r\n        results: [],\r\n    })\r\n\r\n    const getData = async () => {\r\n        try {\r\n            let res = await axios.get(apiUrl);\r\n            console.log(res.data);\r\n            for (var row of res.data) {\r\n                if (row.name === params.name) {\r\n                    setState(prevState => {\r\n                        return { ...prevState, results: row }\r\n                    });\r\n                }\r\n            }\r\n            console.log(state.results)\r\n        } catch (e) {\r\n            getData();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(params.name);\r\n        console.log(state.results.image);\r\n        if (state.results.length == 0) {\r\n            console.log(\"results==0\")\r\n            getData();\r\n        }\r\n    })\r\n    var longShort=\"short\";\r\n    function toggleLongShort() {\r\n        console.log(longShort)\r\n        if (longShort == \"long\") {\r\n            longShort = 'short';\r\n        }\r\n        else {\r\n            longShort = 'long';\r\n        }\r\n    }\r\n    var img;\r\n    if (typeof (state.results.image) !== 'undefined') {\r\n        img = <img alt={\"Poster for \" + state.results.name} src={require(\"../assets/\" + state.results.image)} />;\r\n    }\r\n    var synopsis, link;\r\n    if (longShort == 'long') {\r\n        synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>\r\n        link = <button onClick={toggleLongShort}>Click for short synopsis</button>\r\n    }\r\n    else {\r\n        synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>\r\n        link = <button onClick={toggleLongShort}>Click for full synopsis</button>\r\n    }\r\n    return (\r\n        <div class=\"details\">\r\n            {img}\r\n            <div>\r\n                <h2>{state.results.name}</h2>\r\n                <h4>Production Year: {state.results.productionYear}</h4>\r\n                <h4>Genre: {state.results.genre}</h4>\r\n                <h4>Synopsis:</h4>\r\n                {synopsis}\r\n                {link}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}