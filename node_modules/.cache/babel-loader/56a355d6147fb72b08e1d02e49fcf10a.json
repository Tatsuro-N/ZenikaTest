{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tatsuro\\\\movie-app\\\\src\\\\component\\\\Details.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\n\nfunction Details() {\n  var params = useParams();\n  const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\n  const [state, setState] = useState({\n    message: \"Getting movies info, please wait\",\n    results: []\n  });\n\n  const getData = async () => {\n    try {\n      let res = await axios.get(apiUrl);\n      console.log(res.data);\n\n      for (var row of res.data) {\n        if (row.name === params.name) {\n          setState(prevState => {\n            return { ...prevState,\n              results: row\n            };\n          });\n        }\n      }\n\n      console.log(state.results);\n    } catch (e) {\n      getData();\n    }\n  };\n\n  useEffect(() => {\n    console.log(params.name);\n    console.log(state.results.image);\n\n    if (state.results.length == 0) {\n      console.log(\"results==0\");\n      getData();\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"Poster for \" + state.results.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, state.results.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Production Year: \", state.results.productionYear), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Genre: \", state.results.genre), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Synopsis: \", state.results.synopsis), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Close\"));\n}\n\nexport default Details;","map":{"version":3,"sources":["C:/Users/Tatsuro/movie-app/src/component/Details.js"],"names":["React","useEffect","useState","axios","Link","useParams","BrowserRouter","Router","Details","params","apiUrl","state","setState","message","results","getData","res","get","console","log","data","row","name","prevState","e","image","length","productionYear","genre","synopsis"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,aAAa,IAAIC,MAA3C,QAAyD,kBAAzD;;AAGA,SAASC,OAAT,GAAkB;AAEd,MAAIC,MAAM,GAACJ,SAAS,EAApB;AACA,QAAMK,MAAM,GAAG,+CAAf;AAEF,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC;AACjCW,IAAAA,OAAO,EAAE,kCADwB;AAEjCC,IAAAA,OAAO,EAAE;AAFwB,GAAD,CAAlC;;AAKA,QAAMC,OAAO,GAAG,YAAY;AAC1B,QAAI;AACF,UAAIC,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAUP,MAAV,CAAhB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;;AACA,WAAK,IAAIC,GAAT,IAAgBL,GAAG,CAACI,IAApB,EAA0B;AACxB,YAAIC,GAAG,CAACC,IAAJ,KAAab,MAAM,CAACa,IAAxB,EAA8B;AAC5BV,UAAAA,QAAQ,CAACW,SAAS,IAAI;AACpB,mBAAO,EAAE,GAAGA,SAAL;AAAgBT,cAAAA,OAAO,EAAEO;AAAzB,aAAP;AACD,WAFO,CAAR;AAGD;AACF;;AACDH,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACG,OAAlB;AACD,KAXD,CAWC,OAAMU,CAAN,EAAQ;AACPT,MAAAA,OAAO;AACR;AACJ,GAfC;;AAiBAd,EAAAA,SAAS,CAAC,MAAM;AACViB,IAAAA,OAAO,CAACC,GAAR,CAAYV,MAAM,CAACa,IAAnB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACG,OAAN,CAAcW,KAA1B;;AACJ,QAAId,KAAK,CAACG,OAAN,CAAcY,MAAd,IAAwB,CAA5B,EAA+B;AAC7BR,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAJ,MAAAA,OAAO;AACR;AACF,GAPQ,CAAT;AASE,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAE,gBAAcJ,KAAK,CAACG,OAAN,CAAcQ,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKX,KAAK,CAACG,OAAN,CAAcQ,IAAnB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAsBX,KAAK,CAACG,OAAN,CAAca,cAApC,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAYhB,KAAK,CAACG,OAAN,CAAcc,KAA1B,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAcjB,KAAK,CAACG,OAAN,CAAce,QAA5B,CALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANJ,CADJ;AAUH;;AAED,eAAerB,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\r\n\r\n\r\nfunction Details(){\r\n\r\n    var params=useParams();\r\n    const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\r\n\r\n  const [state, setState] = useState({\r\n    message: \"Getting movies info, please wait\",\r\n    results: [],\r\n  })\r\n\r\n  const getData = async () => {\r\n    try {\r\n      let res = await axios.get(apiUrl);\r\n      console.log(res.data);\r\n      for (var row of res.data) {\r\n        if (row.name === params.name) {\r\n          setState(prevState => {\r\n            return { ...prevState, results: row }\r\n          });\r\n        }\r\n      }\r\n      console.log(state.results)\r\n    }catch(e){\r\n      getData();\r\n    }\r\n}\r\n\r\n  useEffect(() => {\r\n        console.log(params.name);\r\n        console.log(state.results.image);\r\n    if (state.results.length == 0) {\r\n      console.log(\"results==0\")\r\n      getData();\r\n    }\r\n  })\r\n\r\n    return (\r\n        <div>\r\n            <img alt={\"Poster for \"+state.results.name} />\r\n            <h2>{state.results.name}</h2>\r\n            <h4>Production Year: {state.results.productionYear}</h4>\r\n            <h4>Genre: {state.results.genre}</h4>\r\n            <p>Synopsis: {state.results.synopsis}</p>\r\n            <button>Close</button>\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}