{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tatsuro\\\\movie-app\\\\src\\\\component\\\\Details.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\nimport ReactHtmlParser from 'react-html-parser';\nimport '../App.css';\n\nfunction Details() {\n  var params = useParams();\n  const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\n  const [state, setState] = useState({\n    message: \"Getting movies info, please wait\",\n    results: []\n  });\n\n  const getData = async () => {\n    try {\n      let res = await axios.get(apiUrl);\n      console.log(res.data);\n\n      for (var row of res.data) {\n        if (row.name === params.name) {\n          setState(prevState => {\n            return { ...prevState,\n              results: row\n            };\n          });\n        }\n      }\n\n      console.log(state.results);\n    } catch (e) {\n      getData();\n    }\n  };\n\n  useEffect(() => {\n    console.log(params.name);\n    console.log(state.results.image);\n\n    if (state.results.length == 0) {\n      console.log(\"results==0\");\n      getData();\n    }\n  });\n  var img;\n\n  if (typeof state.results.image !== 'undefined') {\n    img = /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Poster for \" + state.results.name,\n      src: require(\"../assets/\" + state.results.image),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, img, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, state.results.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Production Year: \", state.results.productionYear), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Genre: \", state.results.genre), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Synopsis:\"), /*#__PURE__*/React.createElement(\"p\", {\n    class: \"synopsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, ReactHtmlParser(state.results.synopsis)), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Close\"));\n}\n\nexport default Details;","map":{"version":3,"sources":["C:/Users/Tatsuro/movie-app/src/component/Details.js"],"names":["React","useEffect","useState","axios","Link","useParams","BrowserRouter","Router","ReactHtmlParser","Details","params","apiUrl","state","setState","message","results","getData","res","get","console","log","data","row","name","prevState","e","image","length","img","require","productionYear","genre","synopsis"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport '../App.css';\r\n\r\n\r\nfunction Details() {\r\n\r\n    var params = useParams();\r\n    const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\r\n\r\n    const [state, setState] = useState({\r\n        message: \"Getting movies info, please wait\",\r\n        results: [],\r\n    })\r\n\r\n    const getData = async () => {\r\n        try {\r\n            let res = await axios.get(apiUrl);\r\n            console.log(res.data);\r\n            for (var row of res.data) {\r\n                if (row.name === params.name) {\r\n                    setState(prevState => {\r\n                        return { ...prevState, results: row }\r\n                    });\r\n                }\r\n            }\r\n            console.log(state.results)\r\n        } catch (e) {\r\n            getData();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(params.name);\r\n        console.log(state.results.image);\r\n        if (state.results.length == 0) {\r\n            console.log(\"results==0\")\r\n            getData();\r\n        }\r\n    })\r\n    var img;\r\n    if(typeof(state.results.image)!=='undefined'){\r\n        img=<img alt={\"Poster for \" + state.results.name} src={require(\"../assets/\" + state.results.image)}/>;\r\n    }\r\n    return (\r\n        <div class=\"details\">\r\n            {img}\r\n            <h2>{state.results.name}</h2>\r\n            <h4>Production Year: {state.results.productionYear}</h4>\r\n            <h4>Genre: {state.results.genre}</h4>\r\n            <h4>Synopsis:</h4>\r\n            <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>\r\n            <button>Close</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}