{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tatsuro\\\\movie-app\\\\src\\\\component\\\\Details.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\nimport ReactHtmlParser from 'react-html-parser';\nimport '../App.css';\n\nfunction Details() {\n  var params = useParams();\n  const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\n  const [state, setState] = useState({\n    message: \"Getting movies info, please wait\",\n    results: [],\n    shortSynopsis: true\n  });\n\n  const getData = async () => {\n    try {\n      let res = await axios.get(apiUrl);\n      console.log(res.data);\n\n      for (var row of res.data) {\n        if (row.name === params.name) {\n          setState(prevState => {\n            return { ...prevState,\n              results: row\n            };\n          });\n        }\n      }\n\n      console.log(state.results);\n    } catch (e) {\n      getData();\n    }\n  };\n\n  useEffect(() => {\n    console.log(params.name);\n    console.log(state.results.image);\n\n    if (state.results.length == 0) {\n      console.log(\"results==0\");\n      getData();\n    }\n  }); // var longShort = \"short\";\n\n  function toggleLongShort() {// console.log(longShort)\n    // if (longShort == \"long\") {\n    //     longShort = 'short';\n    //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>\n    // }\n    // else {\n    //     console.log(\"entered short\")\n    //     longShort = 'long';\n    //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>\n    // }\n  }\n\n  var img;\n\n  if (typeof state.results.image !== 'undefined') {\n    img = /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Poster for \" + state.results.name,\n      src: require(\"../assets/\" + state.results.image),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    });\n  } // var synopsis, link;\n  // if (longShort == 'long') {\n  //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>\n  //     link = <button onClick={toggleLongShort}>Click for short synopsis</button>\n  // }\n  // else {\n  //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>\n  //     link = <button onClick={toggleLongShort}>Click for full synopsis</button>\n  // }\n\n\n  var synopsisShort = /*#__PURE__*/React.createElement(\"p\", {\n    class: \"synopsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  }, ReactHtmlParser(state.results.synopsisShort));\n  var synopsis = /*#__PURE__*/React.createElement(\"p\", {\n    class: \"synopsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 18\n    }\n  }, ReactHtmlParser(state.results.synopsis));\n  var link = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleLongShort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }\n  }, \"Click for full synopsis\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, img, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, state.results.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Production Year: \", state.results.productionYear), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Genre: \", state.results.genre), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"Synopsis:\"), shortSynopsis ? synopsisShort : synopsis, synopsis, link));\n}\n\nexport default Details;","map":{"version":3,"sources":["C:/Users/Tatsuro/movie-app/src/component/Details.js"],"names":["React","useEffect","useState","axios","Link","useParams","BrowserRouter","Router","ReactHtmlParser","Details","params","apiUrl","state","setState","message","results","shortSynopsis","getData","res","get","console","log","data","row","name","prevState","e","image","length","toggleLongShort","img","require","synopsisShort","synopsis","link","productionYear","genre"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams, BrowserRouter as Router } from \"react-router-dom\";\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport '../App.css';\r\n\r\n\r\nfunction Details() {\r\n\r\n    var params = useParams();\r\n    const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\r\n\r\n    const [state, setState] = useState({\r\n        message: \"Getting movies info, please wait\",\r\n        results: [],\r\n        shortSynopsis: true \r\n    })\r\n\r\n    const getData = async () => {\r\n        try {\r\n            let res = await axios.get(apiUrl);\r\n            console.log(res.data);\r\n            for (var row of res.data) {\r\n                if (row.name === params.name) {\r\n                    setState(prevState => {\r\n                        return { ...prevState, results: row }\r\n                    });\r\n                }\r\n            }\r\n            console.log(state.results)\r\n        } catch (e) {\r\n            getData();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(params.name);\r\n        console.log(state.results.image);\r\n        if (state.results.length == 0) {\r\n            console.log(\"results==0\")\r\n            getData();\r\n        }\r\n    })\r\n    // var longShort = \"short\";\r\n    function toggleLongShort() {\r\n        // console.log(longShort)\r\n        // if (longShort == \"long\") {\r\n        //     longShort = 'short';\r\n        //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>\r\n        // }\r\n        // else {\r\n        //     console.log(\"entered short\")\r\n        //     longShort = 'long';\r\n        //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>\r\n        // }\r\n    }\r\n    var img;\r\n    if (typeof (state.results.image) !== 'undefined') {\r\n        img = <img alt={\"Poster for \" + state.results.name} src={require(\"../assets/\" + state.results.image)} />;\r\n    }\r\n    // var synopsis, link;\r\n    // if (longShort == 'long') {\r\n    //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>\r\n    //     link = <button onClick={toggleLongShort}>Click for short synopsis</button>\r\n    // }\r\n    // else {\r\n    //     synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>\r\n    //     link = <button onClick={toggleLongShort}>Click for full synopsis</button>\r\n    // }\r\n    var synopsisShort=<p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>;\r\n    var synopsis=<p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>;\r\n    var link = <button onClick={toggleLongShort}>Click for full synopsis</button>\r\n    return (\r\n        <div class=\"details\">\r\n            {img}\r\n            <div>\r\n                <h2>{state.results.name}</h2>\r\n                <h4>Production Year: {state.results.productionYear}</h4>\r\n                <h4>Genre: {state.results.genre}</h4>\r\n                <h4>Synopsis:</h4>\r\n                {shortSynopsis?synopsisShort:synopsis}\r\n                {synopsis}\r\n                {link}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}