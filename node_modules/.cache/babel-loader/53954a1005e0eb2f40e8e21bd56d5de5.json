{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tatsuro\\\\movie-app\\\\src\\\\component\\\\Details.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from \"react-router-dom\";\nimport ReactHtmlParser from 'react-html-parser';\nimport '../App.css';\n\nfunction Details() {\n  var params = useParams();\n  const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\n  const [state, setState] = useState({\n    message: \"Getting movies info, please wait\",\n    results: [],\n    shortSynopsis: true\n  });\n\n  const getData = async () => {\n    try {\n      let res = await axios.get(apiUrl);\n\n      for (var row of res.data) {\n        if (row.name === params.name) {\n          setState(prevState => {\n            return { ...prevState,\n              results: row,\n              message: \"\"\n            };\n          });\n        }\n      }\n    } catch (e) {\n      getData();\n    }\n  };\n\n  useEffect(() => {\n    if (state.results.length == 0) {\n      getData();\n    }\n  });\n\n  function toggleLongShort() {\n    setState(prevState => {\n      return { ...prevState,\n        shortSynopsis: !state.shortSynopsis\n      };\n    });\n  }\n\n  var img;\n\n  if (typeof state.results.image !== 'undefined') {\n    img = /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Poster for \" + state.results.name,\n      src: require(\"../assets/\" + state.results.image),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    });\n  }\n\n  var synopsisShort = /*#__PURE__*/React.createElement(\"p\", {\n    class: \"synopsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, ReactHtmlParser(state.results.synopsisShort));\n  var synopsis = /*#__PURE__*/React.createElement(\"p\", {\n    class: \"synopsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 20\n    }\n  }, ReactHtmlParser(state.results.synopsis));\n  var link = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleLongShort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }\n  }, \"Click for short synopsis\");\n  var linkShort = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleLongShort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, \"Click for full synopsis\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, state.message == \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, img, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, state.results.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"Production Year: \", state.results.productionYear), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Genre: \", state.results.genre), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"Synopsis:\"), state.shortSynopsis ? synopsisShort : synopsis, state.shortSynopsis ? linkShort : link)) : /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, state.message));\n}\n\nexport default Details;","map":{"version":3,"sources":["C:/Users/Tatsuro/movie-app/src/component/Details.js"],"names":["React","useEffect","useState","axios","useParams","ReactHtmlParser","Details","params","apiUrl","state","setState","message","results","shortSynopsis","getData","res","get","row","data","name","prevState","e","length","toggleLongShort","img","image","require","synopsisShort","synopsis","link","linkShort","productionYear","genre"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from \"react-router-dom\";\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport '../App.css';\r\n\r\n\r\nfunction Details() {\r\n\r\n    var params = useParams();\r\n    const apiUrl = \"https://sometimes-maybe-flaky-api.gdshive.io/\";\r\n\r\n    const [state, setState] = useState({\r\n        message: \"Getting movies info, please wait\",\r\n        results: [],\r\n        shortSynopsis: true\r\n    })\r\n\r\n    const getData = async () => {\r\n        try {\r\n            let res = await axios.get(apiUrl);\r\n            for (var row of res.data) {\r\n                if (row.name === params.name) {\r\n                    setState(prevState => {\r\n                        return { ...prevState, results: row, message: \"\" }\r\n                    });\r\n                }\r\n            }\r\n        } catch (e) {\r\n            getData();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (state.results.length == 0) {\r\n            getData();\r\n        }\r\n    })\r\n\r\n    function toggleLongShort() {\r\n        setState(prevState => {\r\n            return {\r\n                ...prevState,\r\n                shortSynopsis: !state.shortSynopsis\r\n            }\r\n        })\r\n    }\r\n    var img;\r\n    if (typeof (state.results.image) !== 'undefined') {\r\n        img = <img alt={\"Poster for \" + state.results.name} src={require(\"../assets/\" + state.results.image)} />;\r\n    }\r\n    var synopsisShort = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsisShort)}</p>;\r\n    var synopsis = <p class=\"synopsis\">{ReactHtmlParser(state.results.synopsis)}</p>;\r\n    var link = <button onClick={toggleLongShort}>Click for short synopsis</button>;\r\n    var linkShort = <button onClick={toggleLongShort}>Click for full synopsis</button>;\r\n    return (\r\n        <div>\r\n            {state.message == \"\" ?\r\n                <div class=\"details\">\r\n                    {img}\r\n                    <div>\r\n                        <h2>{state.results.name}</h2>\r\n                        <h4>Production Year: {state.results.productionYear}</h4>\r\n                        <h4>Genre: {state.results.genre}</h4>\r\n                        <h4>Synopsis:</h4>\r\n                        {state.shortSynopsis ? synopsisShort : synopsis}\r\n                        {state.shortSynopsis ? linkShort : link}\r\n                    </div>\r\n                </div> : \r\n                <h2>{state.message}</h2>\r\n            }\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}